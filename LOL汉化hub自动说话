-- ================ è‡ªåŠ¨å‘è¨€åŠŸèƒ½ï¼ˆå®‰å…¨ç‰ˆï¼‰ ================
local TextChatService = game:GetService("TextChatService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")

-- ä½¿ç”¨æç®€æ¶ˆæ¯å‡å°‘è¢«å±è”½é£é™©
local SIMPLE_MSG = "LOL Hub v5 -ä½œè€…LOL å¤šæ¸¸æˆè„šæœ¬æ•´åˆã€è§†è§‰æ•ˆæœã€ç©å®¶åŠŸèƒ½ã€æˆ˜æ–—è¾…åŠ©ç­‰"

local function trySendMessage()
    local player = Players.LocalPlayer
    if not player then return false end
    
    -- æ–¹æ³•1: æ–°ç‰ˆèŠå¤©ç³»ç»Ÿ
    local success = pcall(function()
        if TextChatService and TextChatService.TextChannels then
            local channel = TextChatService.TextChannels:FindFirstChild("RBXGeneral")
            if channel and channel.SendAsync then
                channel:SendAsync(SIMPLE_MSG)
                return true
            end
        end
    end)
    
    -- æ–¹æ³•2: æ—§ç‰ˆèŠå¤©ç³»ç»Ÿ
    if not success then
        success = pcall(function()
            local chatEvents = ReplicatedStorage:FindFirstChild("DefaultChatSystemChatEvents")
            if chatEvents then
                local sayMessage = chatEvents:FindFirstChild("SayMessageRequest")
                if sayMessage then
                    sayMessage:FireServer(SIMPLE_MSG, "All")
                    return true
                end
            end
        end)
    end
    
    return success
end

-- ä¸»æ‰§è¡Œæµç¨‹
spawn(function()
    -- ç­‰å¾…ç©å®¶åŠ è½½
    if not Players.LocalPlayer then
        Players.PlayerAdded:Wait()
    end
    wait(1)
    
    -- å°è¯•å‘é€ç®€åŒ–æ¶ˆæ¯
    local sent = trySendMessage()
    
    -- æ— è®ºæ˜¯å¦å‘é€æˆåŠŸï¼Œéƒ½æ‰§è¡Œè„šæœ¬
    print("ğŸ”„ æ­£åœ¨åŠ è½½ä¸»è„šæœ¬...")
    
    -- æ‰§è¡Œæ‚¨çš„è„šæœ¬
    local success, err = pcall(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/useert741/-X---byLOL/refs/heads/main/LOL-HUB-%E6%9C%80%E5%BC%B1%E8%84%9A%E6%9C%AC-%E6%B1%89%E5%8C%96"))()
    end)
    
    if not success then
        warn("âŒ è„šæœ¬åŠ è½½å¤±è´¥: " .. tostring(err))
    else
        print("âœ… è„šæœ¬åŠ è½½æˆåŠŸ")
    end
end)
