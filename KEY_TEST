-- åˆ›å»ºå¯†é’¥éªŒè¯UI - ä¿®å¤ç™½åå•æ¼æ´å¹¶ä¼˜åŒ–æ˜¾ç¤º
local Players = game:GetService("Players")
local PlayerGui = Players.LocalPlayer:WaitForChild("PlayerGui")
local TweenService = game:GetService("TweenService")
local HttpService = game:GetService("HttpService")

-- å¢å¼ºç™½åå•ç³»ç»Ÿ
local whitelist = {
    -- ç”¨æˆ·IDç™½åå•ï¼ˆæœ€å¯é çš„æ–¹å¼ï¼‰
    userids = {
        yummyfood585,  -- ç¤ºä¾‹ç”¨æˆ·ID - æ›¿æ¢ä¸ºå®é™…ID
        987654321,  -- ç¤ºä¾‹ç”¨æˆ·ID - æ›¿æ¢ä¸ºå®é™…ID
    },
    -- ç”¨æˆ·åç™½åå•
    usernames = {
        "yummyfood585",    -- ç¤ºä¾‹ç”¨æˆ·å - æ›¿æ¢ä¸ºå®é™…ç”¨æˆ·å
        "Moderator",    -- ç¤ºä¾‹ç”¨æˆ·å - æ›¿æ¢ä¸ºå®é™…ç”¨æˆ·å
    },
    -- å¼€å‘è€…ç‰¹æ®Šæƒé™
    developers = {
        "Developer1",   -- ç¤ºä¾‹å¼€å‘è€… - æ›¿æ¢ä¸ºå®é™…ç”¨æˆ·å
        "Developer2"    -- ç¤ºä¾‹å¼€å‘è€… - æ›¿æ¢ä¸ºå®é™…ç”¨æˆ·å
    }
}

-- å¢å¼ºç™½åå•æ£€æŸ¥å‡½æ•°
local function checkWhitelist()
    local player = game.Players.LocalPlayer
    local playerName = player.Name
    local playerUserId = player.UserId
    
    -- æ£€æŸ¥ç”¨æˆ·IDç™½åå•
    for _, id in ipairs(whitelist.userids) do
        if playerUserId == id then
            return true, "ç”¨æˆ·IDç™½åå•"
        end
    end
    
    -- æ£€æŸ¥ç”¨æˆ·åç™½åå•
    for _, name in ipairs(whitelist.usernames) do
        if playerName == name then
            return true, "ç”¨æˆ·åç™½åå•"
        end
    end
    
    -- æ£€æŸ¥å¼€å‘è€…ç™½åå•
    for _, dev in ipairs(whitelist.developers) do
        if playerName == dev then
            return true, "å¼€å‘è€…æƒé™"
        end
    end
    
    return false, "ä¸åœ¨ç™½åå•ä¸­"
end

-- ç™½åå•æ£€æŸ¥ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰
local isWhitelisted, whitelistType = checkWhitelist()
if isWhitelisted then
    -- åˆ›å»ºç™½åå•æ¬¢è¿ç•Œé¢
    local WhitelistScreen = Instance.new("ScreenGui")
    WhitelistScreen.Name = "WhitelistWelcomeUI"
    WhitelistScreen.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    WhitelistScreen.Parent = PlayerGui
    
    local WelcomeFrame = Instance.new("Frame")
    WelcomeFrame.Size = UDim2.new(0, 400, 0, 200)
    WelcomeFrame.Position = UDim2.new(0.5, -200, 0.5, -100)
    WelcomeFrame.BackgroundColor3 = Color3.fromRGB(30, 40, 30)
    WelcomeFrame.BorderSizePixel = 0
    WelcomeFrame.Parent = WhitelistScreen
    
    local UICorner = Instance.new("UICorner")
    UICorner.CornerRadius = UDim.new(0, 12)
    UICorner.Parent = WelcomeFrame
    
    local WelcomeLabel = Instance.new("TextLabel")
    WelcomeLabel.Size = UDim2.new(1, 0, 0, 60)
    WelcomeLabel.Position = UDim2.new(0, 0, 0, 0)
    WelcomeLabel.BackgroundColor3 = Color3.fromRGB(40, 60, 40)
    WelcomeLabel.BackgroundTransparency = 0
    WelcomeLabel.BorderSizePixel = 0
    WelcomeLabel.Text = "ğŸ‰ ç™½åå•ç”¨æˆ· ğŸ‰"
    WelcomeLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    WelcomeLabel.TextSize = 24
    WelcomeLabel.Font = Enum.Font.GothamBold
    WelcomeLabel.Parent = WelcomeFrame
    
    local TitleCorner = Instance.new("UICorner")
    TitleCorner.CornerRadius = UDim.new(0, 12)
    TitleCorner.Parent = WelcomeLabel
    
    local MessageLabel = Instance.new("TextLabel")
    MessageLabel.Size = UDim2.new(1, -40, 0, 80)
    MessageLabel.Position = UDim2.new(0, 20, 0, 70)
    MessageLabel.BackgroundTransparency = 1
    MessageLabel.Text = "æ¬¢è¿ " .. game.Players.LocalPlayer.Name .. "!\n\næ‚¨åœ¨ç™½åå•ä¸­ (" .. whitelistType .. ")\næ­£åœ¨åŠ è½½è„šæœ¬..."
    MessageLabel.TextColor3 = Color3.fromRGB(200, 255, 200)
    MessageLabel.TextSize = 16
    MessageLabel.TextWrapped = true
    MessageLabel.Font = Enum.Font.Gotham
    MessageLabel.Parent = WelcomeFrame
    
    wait(3)
    WhitelistScreen:Destroy()
    
    -- ç›´æ¥åŠ è½½ä¸»è„šæœ¬
    loadstring(game:HttpGet(string.char(0x68,0x74,0x74,0x70,0x73,0x3a,0x2f,0x2f,0x72,0x61,0x77,0x2e,0x67,0x69,0x74,0x68,0x75,0x62,0x75,0x73,0x65,0x72,0x63,0x6f,0x6e,0x74,0x65,0x6e,0x74,0x2e,0x63,0x6f,0x6d,0x2f,0x75,0x73,0x65,0x65,0x72,0x74,0x37,0x34,0x31,0x2f,0x2d,0x58,0x2d,0x2d,0x2d,0x62,0x79,0x4c,0x4f,0x4c,0x2f,0x72,0x65,0x66,0x73,0x2f,0x68,0x65,0x61,0x64,0x73,0x2f,0x6d,0x61,0x69,0x6e,0x2f,0x4c,0x4f,0x4c,0x25,0x45,0x36,0x25,0x42,0x31,0x25,0x38,0x39,0x25,0x45,0x35,0x25,0x38,0x43,0x25,0x39,0x36,0x48,0x55,0x42,0x2d,0x56,0x30,0x2e,0x30,0x2e,0x31)))()
    return
end

-- å°è¯•ä»å­˜å‚¨ä¸­è¯»å–å·²ä¿å­˜çš„å¯†é’¥
local function loadSavedKey()
    local playerName = game.Players.LocalPlayer.Name
    local success, savedData = pcall(function()
        return readfile("LOLHUB_SavedKeys.json")
    end)
    
    if success then
        local keysData = HttpService:JSONDecode(savedData)
        if keysData[playerName] then
            return keysData[playerName]
        end
    end
    return nil
end

-- ä¿å­˜å¯†é’¥åˆ°å­˜å‚¨
local function saveKey(key)
    local playerName = game.Players.LocalPlayer.Name
    local success, savedData = pcall(function()
        return readfile("LOLHUB_SavedKeys.json")
    end)
    
    local keysData = {}
    if success then
        keysData = HttpService:JSONDecode(savedData)
    end
    
    keysData[playerName] = key
    
    pcall(function()
        writefile("LOLHUB_SavedKeys.json", HttpService:JSONEncode(keysData))
    end)
end

-- åˆ é™¤ä¿å­˜çš„å¯†é’¥
local function removeSavedKey()
    local playerName = game.Players.LocalPlayer.Name
    local success, savedData = pcall(function()
        return readfile("LOLHUB_SavedKeys.json")
    end)
    
    if success then
        local keysData = HttpService:JSONDecode(savedData)
        keysData[playerName] = nil
        
        pcall(function()
            writefile("LOLHUB_SavedKeys.json", HttpService:JSONEncode(keysData))
        end)
    end
end

-- æ£€æŸ¥æ˜¯å¦æœ‰ä¿å­˜çš„å¯†é’¥å¹¶è‡ªåŠ¨éªŒè¯
local savedKey = loadSavedKey()
if savedKey then
    -- åˆ›å»ºåŠ è½½ç•Œé¢
    local LoadingScreen = Instance.new("ScreenGui")
    LoadingScreen.Name = "AutoVerificationUI"
    LoadingScreen.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    LoadingScreen.Parent = PlayerGui
    
    local LoadingFrame = Instance.new("Frame")
    LoadingFrame.Size = UDim2.new(0, 300, 0, 150)
    LoadingFrame.Position = UDim2.new(0.5, -150, 0.5, -75)
    LoadingFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
    LoadingFrame.BorderSizePixel = 0
    LoadingFrame.Parent = LoadingScreen
    
    local UICorner = Instance.new("UICorner")
    UICorner.CornerRadius = UDim.new(0, 12)
    UICorner.Parent = LoadingFrame
    
    local LoadingLabel = Instance.new("TextLabel")
    LoadingLabel.Size = UDim2.new(1, 0, 0, 60)
    LoadingLabel.Position = UDim2.new(0, 0, 0, 0)
    LoadingLabel.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
    LoadingLabel.BackgroundTransparency = 0
    LoadingLabel.BorderSizePixel = 0
    LoadingLabel.Text = "è‡ªåŠ¨éªŒè¯ä¸­..."
    LoadingLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    LoadingLabel.TextSize = 20
    LoadingLabel.Font = Enum.Font.GothamBold
    LoadingLabel.Parent = LoadingFrame
    
    local TitleCorner = Instance.new("UICorner")
    TitleCorner.CornerRadius = UDim.new(0, 12)
    TitleCorner.Parent = LoadingLabel
    
    local StatusLabel = Instance.new("TextLabel")
    StatusLabel.Size = UDim2.new(1, -40, 0, 80)
    StatusLabel.Position = UDim2.new(0, 20, 0, 70)
    StatusLabel.BackgroundTransparency = 1
    StatusLabel.Text = "æ£€æµ‹åˆ°å·²ä¿å­˜çš„å¯†é’¥\næ­£åœ¨è‡ªåŠ¨éªŒè¯..."
    StatusLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
    StatusLabel.TextSize = 16
    StatusLabel.TextWrapped = true
    StatusLabel.Font = Enum.Font.Gotham
    StatusLabel.Parent = LoadingFrame
    
    -- å¯†é’¥éªŒè¯å‡½æ•°
    local function verifyKey(key)
        -- ä¸“ä¸šç®€æ´çš„å¯†é’¥åˆ—è¡¨ï¼Œç›´æ¥æ˜¾ç¤ºæœ‰æ•ˆæœŸ
        local valid_keys = {
            ["LOL"] = {expires = 0, name = "æ°¸ä¹…è®¸å¯"},                    -- æ°¸ä¹…
            ["LOLHub"] = {expires = os.time() + 7*24*60*60, name = "7å¤©è®¸å¯"},    -- 7å¤©
            ["KEY030"] = {expires = os.time() + 30*24*60*60, name = "30å¤©è®¸å¯"},  -- 30å¤©
            ["DeepSeek"] = {expires = os.time() + 90*24*60*60, name = "90å¤©è®¸å¯"},  -- 90å¤©
            ["KEYHub"] = {expires = os.time() + 365*24*60*60, name = "365å¤©è®¸å¯"},-- 365å¤©
            ["FREE_KEY"] = {expires = os.time() + 24*60*60, name = "æµ‹è¯•è®¸å¯"}      -- 1å¤©æµ‹è¯•
        }
        
        if not valid_keys[key] then
            return false, "æ— æ•ˆå¯†é’¥"
        end
        
        if valid_keys[key].expires ~= 0 and os.time() > valid_keys[key].expires then
            return false, "å¯†é’¥å·²è¿‡æœŸ"
        end
        
        return true, valid_keys[key].name
    end
    
    -- è‡ªåŠ¨éªŒè¯
    wait(2)
    local success, membership = verifyKey(savedKey)
    
    if success then
        StatusLabel.Text = "éªŒè¯æˆåŠŸï¼" .. membership
        StatusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
        
        wait(2)
        LoadingScreen:Destroy()
        
        -- åŠ è½½ä¸»è„šæœ¬
        loadstring(game:HttpGet(string.char(0x68,0x74,0x74,0x70,0x73,0x3a,0x2f,0x2f,0x72,0x61,0x77,0x2e,0x67,0x69,0x74,0x68,0x75,0x62,0x75,0x73,0x65,0x72,0x63,0x6f,0x6e,0x74,0x65,0x6e,0x74,0x2e,0x63,0x6f,0x6d,0x2f,0x75,0x73,0x65,0x65,0x72,0x74,0x37,0x34,0x31,0x2f,0x2d,0x58,0x2d,0x2d,0x2d,0x62,0x79,0x4c,0x4f,0x4c,0x2f,0x72,0x65,0x66,0x73,0x2f,0x68,0x65,0x61,0x64,0x73,0x2f,0x6d,0x61,0x69,0x6e,0x2f,0x4c,0x4f,0x4c,0x25,0x45,0x36,0x25,0x42,0x31,0x25,0x38,0x39,0x25,0x45,0x35,0x25,0x38,0x43,0x25,0x39,0x36,0x48,0x55,0x42,0x2d,0x56,0x30,0x2e,0x30,0x2e,0x31)))()
        return
    else
        StatusLabel.Text = "è‡ªåŠ¨éªŒè¯å¤±è´¥: " .. membership .. "\nå°†æ˜¾ç¤ºæ‰‹åŠ¨éªŒè¯ç•Œé¢"
        StatusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
        
        -- åˆ é™¤æ— æ•ˆçš„ä¿å­˜å¯†é’¥
        removeSavedKey()
        
        wait(3)
        LoadingScreen:Destroy()
        -- ç»§ç»­æ˜¾ç¤ºæ‰‹åŠ¨éªŒè¯ç•Œé¢
    end
end

-- åˆ›å»ºä¸»éªŒè¯UI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "KeyVerificationUI"
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.Parent = PlayerGui

local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 400, 0, 350)
MainFrame.Position = UDim2.new(0.5, -200, 0.5, -175)
MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
MainFrame.BorderSizePixel = 0
MainFrame.ClipsDescendants = true
MainFrame.Parent = ScreenGui

local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 12)
UICorner.Parent = MainFrame

local UIStroke = Instance.new("UIStroke")
UIStroke.Color = Color3.fromRGB(60, 60, 80)
UIStroke.Thickness = 2
UIStroke.Parent = MainFrame

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 60)
Title.Position = UDim2.new(0, 0, 0, 0)
Title.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
Title.BackgroundTransparency = 0
Title.BorderSizePixel = 0
Title.Text = "LOLæ±‰åŒ–HUB - å¯†é’¥éªŒè¯"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 24
Title.Font = Enum.Font.GothamBold
Title.Parent = MainFrame

local TitleCorner = Instance.new("UICorner")
TitleCorner.CornerRadius = UDim.new(0, 12)
TitleCorner.Parent = Title

local Description = Instance.new("TextLabel")
Description.Size = UDim2.new(1, -40, 0, 60)
Description.Position = UDim2.new(0, 20, 0, 70)
Description.BackgroundTransparency = 1
Description.Text = "è¯·è¾“å…¥æ‚¨çš„è®¿é—®å¯†é’¥ä»¥ä½¿ç”¨LOLæ±‰åŒ–HUBåŠŸèƒ½\néªŒè¯æˆåŠŸåä¼šè‡ªåŠ¨è®°ä½æ‚¨çš„è´¦æˆ·"
Description.TextColor3 = Color3.fromRGB(200, 200, 200)
Description.TextSize = 16
Description.TextWrapped = true
Description.Font = Enum.Font.Gotham
Description.Parent = MainFrame

local KeyBox = Instance.new("TextBox")
KeyBox.Size = UDim2.new(1, -40, 0, 40)
KeyBox.Position = UDim2.new(0, 20, 0, 140)
KeyBox.BackgroundColor3 = Color3.fromRGB(50, 50, 60)
KeyBox.BorderSizePixel = 0
KeyBox.PlaceholderText = "åœ¨æ­¤è¾“å…¥æ‚¨çš„å¯†é’¥..."
KeyBox.Text = ""
KeyBox.TextColor3 = Color3.fromRGB(255, 255, 255)
KeyBox.TextSize = 18
KeyBox.Font = Enum.Font.Gotham
KeyBox.ClearTextOnFocus = false
KeyBox.Parent = MainFrame

local KeyBoxCorner = Instance.new("UICorner")
KeyBoxCorner.CornerRadius = UDim.new(0, 8)
KeyBoxCorner.Parent = KeyBox

local KeyBoxPadding = Instance.new("UIPadding")
KeyBoxPadding.PaddingLeft = UDim.new(0, 10)
KeyBoxPadding.PaddingRight = UDim.new(0, 10)
KeyBoxPadding.Parent = KeyBox

-- æ·»åŠ "è®°ä½æˆ‘"å¤é€‰æ¡†
local RememberMeFrame = Instance.new("Frame")
RememberMeFrame.Size = UDim2.new(1, -40, 0, 30)
RememberMeFrame.Position = UDim2.new(0, 20, 0, 190)
RememberMeFrame.BackgroundTransparency = 1
RememberMeFrame.Parent = MainFrame

local RememberMeBox = Instance.new("TextButton")
RememberMeBox.Size = UDim2.new(0, 20, 0, 20)
RememberMeBox.Position = UDim2.new(0, 0, 0, 5)
RememberMeBox.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
RememberMeBox.BorderSizePixel = 0
RememberMeBox.Text = ""
RememberMeBox.Parent = RememberMeFrame

local RememberMeCorner = Instance.new("UICorner")
RememberMeCorner.CornerRadius = UDim.new(0, 4)
RememberMeCorner.Parent = RememberMeBox

local RememberMeLabel = Instance.new("TextLabel")
RememberMeLabel.Size = UDim2.new(1, -30, 1, 0)
RememberMeLabel.Position = UDim2.new(0, 30, 0, 0)
RememberMeLabel.BackgroundTransparency = 1
RememberMeLabel.Text = "è®°ä½æˆ‘çš„è´¦æˆ·ï¼ˆä¸‹æ¬¡è‡ªåŠ¨éªŒè¯ï¼‰"
RememberMeLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
RememberMeLabel.TextSize = 14
RememberMeLabel.TextXAlignment = Enum.TextXAlignment.Left
RememberMeLabel.Font = Enum.Font.Gotham
RememberMeLabel.Parent = RememberMeFrame

local RememberMeChecked = false
RememberMeBox.MouseButton1Click:Connect(function()
    RememberMeChecked = not RememberMeChecked
    if RememberMeChecked then
        RememberMeBox.BackgroundColor3 = Color3.fromRGB(80, 120, 200)
        -- æ·»åŠ å‹¾é€‰æ ‡è®°
        if not RememberMeBox:FindFirstChild("CheckMark") then
            local CheckMark = Instance.new("TextLabel")
            CheckMark.Name = "CheckMark"
            CheckMark.Size = UDim2.new(1, 0, 1, 0)
            CheckMark.BackgroundTransparency = 1
            CheckMark.Text = "âœ“"
            CheckMark.TextColor3 = Color3.fromRGB(255, 255, 255)
            CheckMark.TextSize = 14
            CheckMark.Font = Enum.Font.GothamBold
            CheckMark.Parent = RememberMeBox
        end
    else
        RememberMeBox.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
        if RememberMeBox:FindFirstChild("CheckMark") then
            RememberMeBox.CheckMark:Destroy()
        end
    end
end)

local SubmitButton = Instance.new("TextButton")
SubmitButton.Size = UDim2.new(1, -40, 0, 40)
SubmitButton.Position = UDim2.new(0, 20, 0, 230)
SubmitButton.BackgroundColor3 = Color3.fromRGB(80, 120, 200)
SubmitButton.BorderSizePixel = 0
SubmitButton.Text = "éªŒè¯å¯†é’¥"
SubmitButton.TextColor3 = Color3.fromRGB(255, 255, 255)
SubmitButton.TextSize = 18
SubmitButton.Font = Enum.Font.GothamBold
SubmitButton.Parent = MainFrame

local ButtonCorner = Instance.new("UICorner")
ButtonCorner.CornerRadius = UDim.new(0, 8)
ButtonCorner.Parent = SubmitButton

local StatusLabel = Instance.new("TextLabel")
StatusLabel.Size = UDim2.new(1, -40, 0, 30)
StatusLabel.Position = UDim2.new(0, 20, 0, 280)
StatusLabel.BackgroundTransparency = 1
StatusLabel.Text = "ç­‰å¾…è¾“å…¥..."
StatusLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
StatusLabel.TextSize = 14
StatusLabel.Font = Enum.Font.Gotham
StatusLabel.Parent = MainFrame

local CloseButton = Instance.new("TextButton")
CloseButton.Size = UDim2.new(0, 30, 0, 30)
CloseButton.Position = UDim2.new(1, -35, 0, 15)
CloseButton.BackgroundColor3 = Color3.fromRGB(200, 80, 80)
CloseButton.BorderSizePixel = 0
CloseButton.Text = "X"
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.TextSize = 16
CloseButton.Font = Enum.Font.GothamBold
CloseButton.Parent = Title

local CloseButtonCorner = Instance.new("UICorner")
CloseButtonCorner.CornerRadius = UDim.new(0, 15)
CloseButtonCorner.Parent = CloseButton

-- åŠ¨ç”»æ•ˆæœ
MainFrame.Size = UDim2.new(0, 0, 0, 0)
MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)

local openTween = TweenService:Create(
    MainFrame,
    TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.Out),
    {Size = UDim2.new(0, 400, 0, 350), Position = UDim2.new(0.5, -200, 0.5, -175)}
)
openTween:Play()

-- æŒ‰é’®æ‚¬åœæ•ˆæœ
SubmitButton.MouseEnter:Connect(function()
    TweenService:Create(
        SubmitButton,
        TweenInfo.new(0.2),
        {BackgroundColor3 = Color3.fromRGB(100, 140, 220)}
    ):Play()
end)

SubmitButton.MouseLeave:Connect(function()
    TweenService:Create(
        SubmitButton,
        TweenInfo.new(0.2),
        {BackgroundColor3 = Color3.fromRGB(80, 120, 200)}
    ):Play()
end)

CloseButton.MouseEnter:Connect(function()
    TweenService:Create(
        CloseButton,
        TweenInfo.new(0.2),
        {BackgroundColor3 = Color3.fromRGB(220, 100, 100)}
    ):Play()
end)

CloseButton.MouseLeave:Connect(function()
    TweenService:Create(
        CloseButton,
        TweenInfo.new(0.2),
        {BackgroundColor3 = Color3.fromRGB(200, 80, 80)}
    ):Play()
end)

-- å¯†é’¥éªŒè¯å‡½æ•°
local function verifyKey(key)
    -- ä¸“ä¸šç®€æ´çš„å¯†é’¥åˆ—è¡¨ï¼Œç›´æ¥æ˜¾ç¤ºæœ‰æ•ˆæœŸ
    local valid_keys = {
        ["LOL"] = {expires = 0, name = "æ°¸ä¹…è®¸å¯"},                    -- æ°¸ä¹…
        ["LOLHub"] = {expires = os.time() + 7*24*60*60, name = "7å¤©è®¸å¯"},    -- 7å¤©
        ["KEY030"] = {expires = os.time() + 30*24*60*60, name = "30å¤©è®¸å¯"},  -- 30å¤©
        ["DeepSeek"] = {expires = os.time() + 90*24*60*60, name = "90å¤©è®¸å¯"},  -- 90å¤©
        ["KEYHub"] = {expires = os.time() + 365*24*60*60, name = "365å¤©è®¸å¯"},-- 365å¤©
        ["FREE_KEY"] = {expires = os.time() + 24*60*60, name = "æµ‹è¯•è®¸å¯"}      -- 1å¤©æµ‹è¯•
    }
    
    if not valid_keys[key] then
        return false, "æ— æ•ˆå¯†é’¥"
    end
    
    if valid_keys[key].expires ~= 0 and os.time() > valid_keys[key].expires then
        return false, "å¯†é’¥å·²è¿‡æœŸ"
    end
    
    return true, valid_keys[key].name
end

-- æäº¤æŒ‰é’®ç‚¹å‡»äº‹ä»¶
SubmitButton.MouseButton1Click:Connect(function()
    local key = KeyBox.Text
    if key == "" then
        StatusLabel.Text = "è¯·è¾“å…¥å¯†é’¥"
        StatusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
        return
    end
    
    StatusLabel.Text = "éªŒè¯ä¸­..."
    StatusLabel.TextColor3 = Color3.fromRGB(255, 200, 100)
    
    wait(1)
    
    local success, membership = verifyKey(key)
    
    if success then
        StatusLabel.Text = "éªŒè¯æˆåŠŸï¼" .. membership
        StatusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
        
        -- å¦‚æœå‹¾é€‰äº†"è®°ä½æˆ‘"ï¼Œä¿å­˜å¯†é’¥
        if RememberMeChecked then
            saveKey(key)
            StatusLabel.Text = StatusLabel.Text .. " (å·²ä¿å­˜)"
        end
        
        SubmitButton.Text = "åŠ è½½ä¸­..."
        SubmitButton.BackgroundColor3 = Color3.fromRGB(100, 180, 100)
        
        local closeTween = TweenService:Create(
            MainFrame,
            TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.In),
            {Size = UDim2.new(0, 0, 0, 0), Position = UDim2.new(0.5, 0, 0.5, 0)}
        )
        closeTween:Play()
        
        closeTween.Completed:Connect(function()
            ScreenGui:Destroy()
            
            wait(1)
            loadstring(game:HttpGet(string.char(0x68,0x74,0x74,0x70,0x73,0x3a,0x2f,0x2f,0x72,0x61,0x77,0x2e,0x67,0x69,0x74,0x68,0x75,0x62,0x75,0x73,0x65,0x72,0x63,0x6f,0x6e,0x74,0x65,0x6e,0x74,0x2e,0x63,0x6f,0x6d,0x2f,0x75,0x73,0x65,0x65,0x72,0x74,0x37,0x34,0x31,0x2f,0x2d,0x58,0x2d,0x2d,0x2d,0x62,0x79,0x4c,0x4f,0x4c,0x2f,0x72,0x65,0x66,0x73,0x2f,0x68,0x65,0x61,0x64,0x73,0x2f,0x6d,0x61,0x69,0x6e,0x2f,0x4c,0x4f,0x4c,0x25,0x45,0x36,0x25,0x42,0x31,0x25,0x38,0x39,0x25,0x45,0x35,0x25,0x38,0x43,0x25,0x39,0x36,0x48,0x55,0x42,0x2d,0x56,0x30,0x2e,0x30,0x2e,0x31)))()
        end)
    else
        StatusLabel.Text = "éªŒè¯å¤±è´¥: " .. membership
        StatusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
        
        SubmitButton.Text = "éªŒè¯å¤±è´¥"
        SubmitButton.BackgroundColor3 = Color3.fromRGB(200, 80, 80)
        
        wait(2)
        
        SubmitButton.Text = "éªŒè¯å¯†é’¥"
        SubmitButton.BackgroundColor3 = Color3.fromRGB(80, 120, 200)
        
        if membership == "æ— æ•ˆå¯†é’¥" then
            wait(2)
            game.Players.LocalPlayer:Kick("âŒ å¯†é’¥æ— æ•ˆï¼Œè¯·è·å–æœ‰æ•ˆå¯†é’¥åé‡è¯•")
        elseif membership == "å¯†é’¥å·²è¿‡æœŸ" then
            wait(2)
            game.Players.LocalPlayer:Kick("â° å¯†é’¥å·²è¿‡æœŸ")
        end
    end
end)

-- å…³é—­æŒ‰é’®ç‚¹å‡»äº‹ä»¶
CloseButton.MouseButton1Click:Connect(function()
    game.Players.LocalPlayer:Kick("âŒ å·²å–æ¶ˆå¯†é’¥éªŒè¯")
end)

-- æŒ‰å›è½¦é”®ä¹Ÿå¯ä»¥æäº¤
KeyBox.FocusLost:Connect(function(enterPressed)
    if enterPressed then
        SubmitButton.MouseButton1Click:Fire()
    end
end)
